<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Wholesale Attar Price List | Pristine Perfume Kannauj</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="icon" href="favicon.png">
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">

<style>
html,body{margin:0;padding:0;width:100%;overflow-x:hidden;}
body{
  font-family:'Playfair Display', serif;
  padding-top:56px;
  background:#fafafa;
}

/* NAVBAR */
.navbar{
  position:fixed;top:0;left:0;right:0;
  background:#f8f6f2;
  display:flex;align-items:center;justify-content:space-between;
  padding:12px 20px;z-index:1000;
}
.navbar img{height:36px}
.nav-row{margin:0 auto;display:flex}
.nav-row a{
  padding:6px 22px;text-decoration:none;color:#333;position:relative
}
.nav-row a.active{border-bottom:2px solid #000}
.nav-row a:not(:last-child)::after{
  content:"";position:absolute;right:0;top:50%;
  transform:translateY(-50%);height:18px;width:1px;background:#999
}

/* CONTAINER */
.container{max-width:1200px;margin:auto;background:#fff;padding:20px}
h1{text-align:center;font-family:'Cinzel',serif}

/* CONTROLS */
.controls{
  display:flex;flex-wrap:wrap;gap:10px;
  justify-content:center;position:sticky;top:70px;
  background:#fff;padding:10px;z-index:50
}
input,select{padding:8px 10px;font-size:14px}

/* RANGE */
.range-wrap{text-align:center;width:280px}
.range-wrap span{display:block;margin-top:4px;font-size:14px}

/* TABLE */
table{
  width:100%;
  border-collapse:collapse;
  font-family:'Playfair Display', serif;
}
th,td{
  border:1px solid #ddd;
  padding:8px;
  text-align:center;
  font-size:14px;
}
th{background:#111;color:#fff}

/* ZEBRA + HOVER */
tbody tr:nth-child(odd){background:#fff}
tbody tr:nth-child(even){background:#f3f3f3}
tbody tr:hover{background:#eaeaea}

/* MOBILE TABLE */
@media(max-width:768px){
  table,thead,tbody,th,td,tr{display:block}
  tr{margin-bottom:15px}
  td{text-align:right;position:relative;padding-left:50%}
  td::before{
    content:attr(data-label);
    position:absolute;left:10px;font-weight:bold
  }
  th{display:none}
}

/* FLOATING WHATSAPP */
.whatsapp-float{
  position:fixed;right:16px;bottom:16px;
  width:56px;height:56px;background:#25D366;
  border-radius:50%;display:flex;
  align-items:center;justify-content:center;
  box-shadow:0 8px 20px rgba(0,0,0,.25);
}
.whatsapp-float img{width:36px;height:36px}
</style>
</head>

<body>

<div class="navbar">
  <a href="./index.html"><img src="logo.png"></a>
  <div class="nav-row">
    <a href="./index.html">Home</a>
    <a href="./pricelist.html" class="active">Price List</a>
    <a href="./about.html">About</a>
    <a href="./blog.html">Blog</a>
  </div>
</div>

<div class="container">
<h1>Wholesale Attar Price List</h1>

<div class="controls">
  <input id="search" placeholder="Search fragrance">
  <select id="category">
    <option value="">All Categories</option>
  </select>

  <div class="range-wrap">
    <input type="range" id="priceRange" min="0" step="500">
    <span>Up to ₹<b id="priceVal">0</b> (1 Kg)</span>
  </div>
</div>

<table id="table"></table>
</div>

<a href="https://wa.me/917985494998" class="whatsapp-float">
  <img src="whatsapp-icon.png">
</a>

<script>
let ROWS=[];
const PRICE_COLS=['1 Kg','500 g','250 g','100 g','50 g','25 g'];

fetch('pricelist.csv')
.then(r=>r.text())
.then(text=>{
  const rows=text.trim().split('\n').map(r=>r.split(','));
  const headers=rows[0].map(h=>h.trim());
  const col={};headers.forEach((h,i)=>col[h]=i);

  let maxPrice=0;
  const cats=new Set();
  const table=document.getElementById('table');

  /* HEADER */
  let thead='<thead><tr>';
  headers.forEach(h=>thead+=`<th>${h}</th>`);
  thead+='</tr></thead>';
  table.innerHTML=thead+'<tbody></tbody>';
  const tbody=table.querySelector('tbody');

  rows.slice(1).forEach(r=>{
    if(!r[col['Product Name']])return;

    let tr=document.createElement('tr');
    let textBlob='';
    let category='';
    let price1kg=0;

    headers.forEach(h=>{
      let raw=r[col[h]]||'';
      let val=raw;

      if(PRICE_COLS.includes(h)&&raw){
        const num=Number(raw);
        if(h==='1 Kg')price1kg=num;
        maxPrice=Math.max(maxPrice,num);
        val='₹'+num.toLocaleString('en-IN');
      }

      if(h==='Category')category=raw.toLowerCase();

      let td=document.createElement('td');
      td.dataset.label=h;
      td.textContent=val;
      tr.appendChild(td);
      textBlob+=val.toLowerCase()+' ';
    });

    ROWS.push({el:tr,text:textBlob,category,price:price1kg});
    if(category)cats.add(category);
    tbody.appendChild(tr);
  });

  /* CATEGORY */
  const catSel=document.getElementById('category');
  cats.forEach(c=>{
    let o=document.createElement('option');
    o.value=c;o.textContent=c;
    catSel.appendChild(o);
  });

  /* RANGE */
  const range=document.getElementById('priceRange');
  const priceVal=document.getElementById('priceVal');
  range.max=maxPrice;
  range.value=maxPrice;
  priceVal.textContent=maxPrice.toLocaleString('en-IN');

  function filter(){
    const q=search.value.toLowerCase();
    const c=catSel.value;
    const p=Number(range.value);

    ROWS.forEach(r=>{
      const show=
        r.price<=p &&
        (!q||r.text.includes(q)) &&
        (!c||r.category===c);
      r.el.style.display=show?'':'none';
    });
  }

  search.oninput=filter;
  catSel.onchange=filter;
  range.oninput=()=>{
    priceVal.textContent=range.value.toLocaleString('en-IN');
    filter();
  };
});
</script>

</body>
</html>
