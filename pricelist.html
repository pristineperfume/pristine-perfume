<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Wholesale Attar Price List | Pristine Perfume Kannauj</title>
<meta name="description" content="Wholesale attar and perfume oil price list from Pristine Perfume, Kannauj.">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="favicon.png">
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500;600;700&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">

<style>
html,body{margin:0;padding:0;width:100%;overflow-x:hidden;}
body{font-family:'Playfair Display',serif;padding-top:56px;background:#fafafa}

/* ===== NAVBAR ===== */
.navbar{
  position:fixed;top:0;left:0;right:0;
  background:#f8f6f2;
  display:flex;align-items:center;justify-content:space-between;
  padding:12px 20px;z-index:1000;
}
.navbar img{height:36px}
.nav-row{margin:0 auto;display:flex}
.nav-row a{
  position:relative;text-decoration:none;color:#333;
  padding:6px 22px;font-size:15px
}
.nav-row a.active{border-bottom:2px solid #000}
.nav-row a:not(:last-child)::after{
  content:"";position:absolute;right:0;top:50%;
  transform:translateY(-50%);
  height:18px;width:1px;background:rgba(0,0,0,.35)
}

/* ===== LAYOUT ===== */
.container{max-width:1200px;margin:auto;background:#fff;padding:20px}
h1{text-align:center;margin-bottom:10px}

/* ===== CONTROLS ===== */
.controls{
  display:flex;flex-wrap:wrap;gap:10px;
  justify-content:center;position:sticky;top:70px;
  background:#fff;padding:10px;z-index:50
}
input,select{padding:8px 10px;font-size:14px}

.price-chips button{
  border:1px solid #ccc;background:#fff;
  padding:6px 12px;border-radius:20px;
  cursor:pointer;font-size:13px
}
.price-chips button:hover{background:#eee}

/* ===== TABLE ===== */
table{width:100%;border-collapse:collapse}
th,td{border:1px solid #ddd;padding:8px;text-align:center;font-size:14px}
th{background:#111;color:#fff}
tbody tr{transition:.2s}
tbody tr:hover{background:#eef6ff;transform:scale(1.01)}

@media(max-width:768px){
  table,thead,tbody,th,td,tr{display:block}
  tr{margin-bottom:15px}
  td{text-align:right;padding-left:50%;position:relative}
  td::before{
    content:attr(data-label);
    position:absolute;left:10px;font-weight:bold
  }
  th{display:none}
}

/* ===== PAGINATION ===== */
.pagination{text-align:center;margin:20px}
.pagination button{
  padding:6px 12px;margin:0 5px;
  border:1px solid #ccc;background:#fff;cursor:pointer
}

/* ===== FLOATING WHATSAPP ===== */
.whatsapp-float{
  position:fixed;right:16px;bottom:16px;
  width:56px;height:56px;border-radius:50%;
  background:#25D366;display:flex;
  align-items:center;justify-content:center;
  box-shadow:0 8px 20px rgba(0,0,0,.25)
}
.whatsapp-float img{width:38px}
</style>
</head>

<body>

<div class="navbar">
  <a href="./index.html"><img src="logo.png"></a>
  <div class="nav-row">
    <a href="./index.html">Home</a>
    <a href="./pricelist.html" class="active">Price List</a>
    <a href="./about.html">About</a>
    <a href="./blog.html">Blog</a>
  </div>
</div>

<div class="container">
<h1>Wholesale Attar Price List</h1>

<div class="controls">
  <input id="search" placeholder="Search fragrance">
  <select id="category"><option value="">All Categories</option></select>

  <input type="range" id="priceRange" min="0" step="50">
  <span id="priceLabel"></span>

  <div class="price-chips">
    <button data-max="500">₹0–500</button>
    <button data-max="1000">₹500–1000</button>
    <button data-max="2000">₹1000–2000</button>
  </div>
</div>

<table id="table"></table>
<div class="pagination">
  <button id="prev">Prev</button>
  <span id="pageInfo"></span>
  <button id="next">Next</button>
</div>
</div>

<a href="https://wa.me/917985494998" class="whatsapp-float">
  <img src="whatsapp-icon.png">
</a>

<script>
let ROWS=[],PAGE=1,PER_PAGE=50,MAX_PRICE=0;

fetch('pricelist.csv').then(r=>r.text()).then(text=>{
  const rows=text.trim().split('\n').map(r=>r.split(','));
  const headers=rows[0];
  const col={};headers.forEach((h,i)=>col[h]=i);

  const table=document.getElementById('table');
  let thead='<thead><tr>';
  headers.forEach(h=>thead+=`<th>${h}</th>`);
  table.innerHTML=thead+'</tr></thead><tbody></tbody>';
  const tbody=table.querySelector('tbody');

  const cats=new Set();

  rows.slice(1).forEach(r=>{
    if(!r[col['Product Name']])return;
    const tr=document.createElement('tr');
    let text='',cat='',price=0;

    headers.forEach(h=>{
      let v=r[col[h]]||'';
      if(h==='25 g'&&v){price=+v;MAX_PRICE=Math.max(MAX_PRICE,price);v='₹'+v}
      const td=document.createElement('td');
      td.dataset.label=h;td.textContent=v;tr.appendChild(td);
      text+=v.toLowerCase();if(h==='Category')cat=v.toLowerCase();
    });

    ROWS.push({el:tr,text,cat,price});
    cats.add(cat);tbody.appendChild(tr);
  });

  const sel=document.getElementById('category');
  cats.forEach(c=>{if(c){let o=document.createElement('option');o.value=c;o.textContent=c;sel.appendChild(o)}});

  const slider=document.getElementById('priceRange');
  const label=document.getElementById('priceLabel');
  slider.max=MAX_PRICE;slider.value=MAX_PRICE;
  label.textContent=`₹0 – ₹${MAX_PRICE}`;

  function apply(){
    const q=search.value.toLowerCase();
    const c=sel.value;
    const max=+slider.value;
    let visible=ROWS.filter(r=>
      (!q||r.text.includes(q))&&
      (!c||r.cat===c)&&
      r.price<=max
    );
    ROWS.forEach(r=>r.el.style.display='none');
    visible.slice((PAGE-1)*PER_PAGE,PAGE*PER_PAGE)
      .forEach(r=>r.el.style.display='');
    pageInfo.textContent=`Page ${PAGE}`;
  }

  search.oninput=()=>{PAGE=1;apply()};
  sel.onchange=()=>{PAGE=1;apply()};
  slider.oninput=()=>{label.textContent=`₹0 – ₹${slider.value}`;PAGE=1;apply()};
  document.querySelectorAll('.price-chips button').forEach(b=>{
    b.onclick=()=>{slider.value=b.dataset.max;slider.oninput()}
  });

  prev.onclick=()=>{if(PAGE>1){PAGE--;apply()}};
  next.onclick=()=>{PAGE++;apply()};
  apply();
});
</script>

</body>
</html>
